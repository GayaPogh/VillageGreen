{% extends 'base.html.twig' %}

{% block title %}Mon Panier
{% endblock %}

{% block body %}
	<div class="container my-5">
		<h1 class="text-center mb-4">ðŸ›’ Mon Panier</h1>

		{% if items is empty %}
			<div class="alert alert-info text-center">
				Votre panier est vide pour le moment.
			</div>
		{% else %}
			<div class="row">
				<div class="col-md-8">
					<div class="list-group shadow-sm">
						{% for item in items %}
							<div class="list-group-item d-flex justify-content-between align-items-center">
								<div class="d-flex align-items-center">
									<img src="{{ asset('images/produits/' ~ item.produit.image) }}" alt="{{ item.produit.libelleLong }}" class="img-thumbnail me-3" style="width: 80px; height: 80px; object-fit: cover;">
									<div>
										<h5 class="mb-1">{{ item.produit.libelleLong }}</h5>
										<small>{{ item.produit.prixAchat }}
											â‚¬ x
											{{ item.quantity }}</small>
									</div>
								</div>
								<div class="text-end">
									<strong>{{ item.subtotal }}
										â‚¬</strong><br>
									<a href="{{ path('panier_remove', {'id': item.produit.id}) }}" class="btn btn-sm btn-outline-danger mt-2">
										Supprimer
									</a>
								</div>
							</div>
						{% endfor %}
					</div>
				</div>

				<div class="col-md-4">
					<div class="card shadow-sm">
						<div class="card-body">
							<h4 class="card-title">RÃ©sumÃ©</h4>
							<p class="card-text">Nombre d'articles :
								{{ items|length }}</p>
							<h3 class="text-success">Total :
								{{ total }}
								â‚¬</h3>
							<hr>
							<a href="{{ path('panier_valider') }}" class="btn btn-lg btn-success w-100">
								âœ… Valider mon panier
							</a>
						</div>
					</div>
				</div>
			</div>
		{% endif %}
	</div>
{% endblock %}
